Ethan

INSTALL Process

# Install Instructions

## Prerequisites

- A VPS running Ubuntu or Debian.
- SSH access with private/public key authentication.
- Git installed on both local and server.


## Installation Steps (to be updated)
1. Clone the repository onto the VPS:

Set up the web server (Nginx or Apache) to serve content from the repository directory.

Configure SSH keys for secure access.

Create a Git hook or scheduled task to automatically pull changes.


Choices

Things I would say is that 
Nginx is easier to configure for static websites


Comparing the two I woud say:
- Apache has better built-in support for PHP
- Debian is lighter than Ubuntu but Ubuntu has more package support


May 4, My output (Ethan) log to make the git push working





//// Welcome to Ubuntu 24.10 (GNU/Linux 6.11.0-9-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sun May  4 14:47:50 UTC 2025

  System load:  0.29              Processes:             102
  Usage of /:   9.5% of 23.10GB   Users logged in:       0
  Memory usage: 17%               IPv4 address for eth0: 146.190.247.203
  Swap usage:   0%                IPv4 address for eth0: 10.20.0.5

0 updates can be applied immediately.


Last login: Sun May  4 14:47:51 2025 from 162.243.188.66
root@kufathan-server:~# root
Command 'root' not found, but can be installed with:
snap install root-framework
root@kufathan-server:~# adduser ethan
info: Adding user `ethan' ...
info: Selecting UID/GID from range 1000 to 59999 ...
info: Adding new group `ethan' (1000) ...
info: Adding new user `ethan' (1000) with group `ethan (1000)' ...
info: Creating home directory `/home/ethan' ...
info: Copying files from `/etc/skel' ...
New password: 
Retype new password: 
passwd: password updated successfully
Changing the user information for ethan
Enter the new value, or press ENTER for the default
        Full Name []: ethan hafso
        Room Number []: 
        Work Phone []: 
        Home Phone []: 
        Other []: 
Is the information correct? [Y/n] y
info: Adding new user `ethan' to supplemental / extra groups `users' ...
info: Adding user `ethan' to group `users' ...
root@kufathan-server:~# usermod -aG sudo ethan
root@kufathan-server:~# su - ethan
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

ethan@kufathan-server:~$ su - ethan
Password: 
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

ethan@kufathan-server:~$ su - ethan
Password: 
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

ethan@kufathan-server:~$ exit
logout
ethan@kufathan-server:~$ ^[[200~usermod -aG sudo ethan
usermod: command not found
ethan@kufathan-server:~$ sudo usermod -aG sudo ethan
[sudo] password for ethan: 
ethan@kufathan-server:~$ su - ethan
Password: 
ethan@kufathan-server:~$ su - ethan
Password: 
su: Authentication failure
ethan@kufathan-server:~$ su - ethan 
Password: 
su: Authentication failure
ethan@kufathan-server:~$ sudo whami
sudo: whami: command not found
ethan@kufathan-server:~$ exit
logout
ethan@kufathan-server:~$ exit
logout
ethan@kufathan-server:~$ sudo apt update && sudo apt install nginx git ufw curl -y
Hit:1 http://mirrors.digitalocean.com/ubuntu oracular InRelease
Hit:2 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease
Get:3 http://mirrors.digitalocean.com/ubuntu oracular-updates InRelease [126 kB]
Get:4 http://mirrors.digitalocean.com/ubuntu oracular-backports InRelease [126 kB]      
Get:5 http://security.ubuntu.com/ubuntu oracular-security InRelease [126 kB]
Get:6 http://mirrors.digitalocean.com/ubuntu oracular-updates/main amd64 Packages [404 kB]
Get:7 http://mirrors.digitalocean.com/ubuntu oracular-updates/main Translation-en [109 kB]
Get:8 http://mirrors.digitalocean.com/ubuntu oracular-updates/main amd64 Components [59.0 kB]   
Get:9 http://mirrors.digitalocean.com/ubuntu oracular-updates/universe amd64 Packages [247 kB]
Get:10 http://mirrors.digitalocean.com/ubuntu oracular-updates/universe Translation-en [82.2 kB]
Get:11 http://mirrors.digitalocean.com/ubuntu oracular-updates/universe amd64 Components [60.9 kB]
Get:12 http://mirrors.digitalocean.com/ubuntu oracular-updates/restricted amd64 Packages [228 kB]
Get:13 http://mirrors.digitalocean.com/ubuntu oracular-updates/restricted Translation-en [50.6 kB]
Get:14 http://mirrors.digitalocean.com/ubuntu oracular-updates/restricted amd64 Components [216 B]
Get:15 http://mirrors.digitalocean.com/ubuntu oracular-updates/multiverse amd64 Components [216 B]
Get:16 http://mirrors.digitalocean.com/ubuntu oracular-backports/main amd64 Components [212 B]
Get:17 http://security.ubuntu.com/ubuntu oracular-security/main amd64 Components [21.6 kB]
Get:18 http://mirrors.digitalocean.com/ubuntu oracular-backports/universe amd64 Components [9696 B]
Get:19 http://mirrors.digitalocean.com/ubuntu oracular-backports/restricted amd64 Components [216 B]
Get:20 http://mirrors.digitalocean.com/ubuntu oracular-backports/multiverse amd64 Components [216 B]
Get:21 http://security.ubuntu.com/ubuntu oracular-security/universe amd64 Components [7188 B]
Get:22 http://security.ubuntu.com/ubuntu oracular-security/restricted amd64 Components [212 B]
Get:23 http://security.ubuntu.com/ubuntu oracular-security/multiverse amd64 Components [212 B]
Fetched 1659 kB in 7s (237 kB/s)    
16 packages can be upgraded. Run 'apt list --upgradable' to see them.
Error: dpkg was interrupted, you must manually run 'sudo dpkg --configure -a' to correct the problem. 
ethan@kufathan-server:~$ sudo apt update && sudo apt install nginx git ufw curl -y
Hit:1 http://mirrors.digitalocean.com/ubuntu oracular InRelease
Hit:2 http://mirrors.digitalocean.com/ubuntu oracular-updates InRelease                                        
Hit:3 http://mirrors.digitalocean.com/ubuntu oracular-backports InRelease                                      
Hit:4 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease                                  
Hit:5 http://security.ubuntu.com/ubuntu oracular-security InRelease                                            
16 packages can be upgraded. Run 'apt list --upgradable' to see them.
Error: dpkg was interrupted, you must manually run 'sudo dpkg --configure -a' to correct the problem. 
ethan@kufathan-server:~$ sudo dpkg --configure -a
Setting up openssh-server (1:9.7p1-7ubuntu4.3) ...
Setting up libfwupd2:amd64 (1.9.29-0ubuntu1~24.10.1ubuntu1) ...
Setting up pollinate (4.33-4ubuntu1.1) ...
Setting up bind9-dnsutils (1:9.20.0-2ubuntu3.1) ...
Setting up fwupd (1.9.29-0ubuntu1~24.10.1ubuntu1) ...
fwupd-offline-update.service is a disabled or a static unit not running, not starting it.
fwupd-refresh.service is a disabled or a static unit not running, not starting it.
fwupd.service is a disabled or a static unit not running, not starting it.
Setting up apport-core-dump-handler (2.30.0-0ubuntu4.2) ...
Setting up apport (2.30.0-0ubuntu4.2) ...
apport-autoreport.service is a disabled or a static unit not running, not starting it.
Processing triggers for dbus (1.14.10-4ubuntu5) ...
Processing triggers for shared-mime-info (2.4-5) ...
Processing triggers for linux-image-6.11.0-24-generic (6.11.0-24.24) ...
/etc/kernel/postinst.d/initramfs-tools:
update-initramfs: Generating /boot/initrd.img-6.11.0-24-generic
/etc/kernel/postinst.d/zz-update-grub:
Sourcing file `/etc/default/grub'
Sourcing file `/etc/default/grub.d/50-cloudimg-settings.cfg'
Sourcing file `/etc/default/grub.d/51-legacy-ifnames.cfg'
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-6.11.0-24-generic
Found initrd image: /boot/initrd.img-6.11.0-24-generic
Found linux image: /boot/vmlinuz-6.11.0-9-generic
Found initrd image: /boot/initrd.img-6.11.0-9-generic
Warning: os-prober will not be executed to detect other bootable partitions.
Systems on them will not be added to the GRUB boot configuration.
Check GRUB_DISABLE_OS_PROBER documentation entry.
Adding boot menu entry for UEFI Firmware Settings ...
done
Processing triggers for sgml-base (1.31) ...
Processing triggers for debianutils (5.20) ...
Processing triggers for install-info (7.1-3build2) ...
Processing triggers for initramfs-tools (0.142ubuntu34.2) ...
update-initramfs: Generating /boot/initrd.img-6.11.0-24-generic
Processing triggers for libc-bin (2.40-1ubuntu3.1) ...
Processing triggers for ufw (0.36.2-6) ...
Processing triggers for systemd (256.5-2ubuntu3.1) ...
Processing triggers for man-db (2.12.1-3) ...
Setting up packagekit (1.3.0-1ubuntu1) ...
Setting up packagekit-tools (1.3.0-1ubuntu1) ...
Setting up software-properties-common (0.102.1) ...
ethan@kufathan-server:~$ sudo apt update && sudo apt install nginx git ufw curl -y
Hit:1 http://mirrors.digitalocean.com/ubuntu oracular InRelease
Hit:2 http://mirrors.digitalocean.com/ubuntu oracular-updates InRelease                                        
Hit:3 http://security.ubuntu.com/ubuntu oracular-security InRelease                                            
Hit:4 http://mirrors.digitalocean.com/ubuntu oracular-backports InRelease                                      
Hit:5 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease
16 packages can be upgraded. Run 'apt list --upgradable' to see them.
git is already the newest version (1:2.45.2-1ubuntu1.1).
git set to manually installed.
ufw is already the newest version (0.36.2-6).
ufw set to manually installed.
curl is already the newest version (8.9.1-2ubuntu2.2).
curl set to manually installed.
Installing:
  nginx

Installing dependencies:
  nginx-common

Suggested packages:
  fcgiwrap  nginx-doc  ssl-cert

Summary:
  Upgrading: 0, Installing: 2, Removing: 0, Not Upgrading: 16
  Download size: 643 kB
  Space needed: 1811 kB / 22.4 GB available

Get:1 http://mirrors.digitalocean.com/ubuntu oracular-updates/main amd64 nginx-common all 1.26.0-2ubuntu3.2 [43.3 kB]
Get:2 http://mirrors.digitalocean.com/ubuntu oracular-updates/main amd64 nginx amd64 1.26.0-2ubuntu3.2 [599 kB]
Fetched 643 kB in 0s (4081 kB/s)
Preconfiguring packages ...
Selecting previously unselected package nginx-common.
(Reading database ... 108264 files and directories currently installed.)
Preparing to unpack .../nginx-common_1.26.0-2ubuntu3.2_all.deb ...
Unpacking nginx-common (1.26.0-2ubuntu3.2) ...
Selecting previously unselected package nginx.
Preparing to unpack .../nginx_1.26.0-2ubuntu3.2_amd64.deb ...
Unpacking nginx (1.26.0-2ubuntu3.2) ...
Setting up nginx-common (1.26.0-2ubuntu3.2) ...
Created symlink '/etc/systemd/system/multi-user.target.wants/nginx.service' → '/usr/lib/systemd/system/nginx.service'.
Setting up nginx (1.26.0-2ubuntu3.2) ...
 * Upgrading binary nginx         [ OK ] 
Processing triggers for man-db (2.12.1-3) ...
Processing triggers for ufw (0.36.2-6) ...
Scanning processes...                                                                                           
Scanning linux images...                                                                                        

Pending kernel upgrade!
Running kernel version:
  6.11.0-9-generic
Diagnostics:
  The currently running kernel version is not the expected kernel version 6.11.0-24-generic.

Restarting the system to load the new kernel will not be handled automatically, so you should consider
rebooting.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
ethan@kufathan-server:~$ sudo ufw allow OpenSSH
Rules updated
Rules updated (v6)
ethan@kufathan-server:~$ sudo ufw allow 'Nginx Full'
Rules updated
Rules updated (v6)
ethan@kufathan-server:~$ sudo ufw enable
Command may disrupt existing ssh connections. Proceed with operation (y|n)? y
Firewall is active and enabled on system startup
ethan@kufathan-server:~$ ls /var/www/unixsite/Assignment4/home.html
/var/www/unixsite/Assignment4/home.html
ethan@kufathan-server:~$ sudo nano /etc/nginx/sites-available/unixsite
[sudo] password for ethan: 
ethan@kufathan-server:~$ sudo apt install webhook -y
Installing:                     
  webhook

Summary:
  Upgrading: 0, Installing: 1, Removing: 0, Not Upgrading: 16
  Download size: 2881 kB
  Space needed: 8051 kB / 22.4 GB available

Get:1 http://mirrors.digitalocean.com/ubuntu oracular/universe amd64 webhook amd64 2.8.0-4build1 [2881 kB]
Fetched 2881 kB in 6s (457 kB/s) 
Selecting previously unselected package webhook.
(Reading database ... 108312 files and directories currently installed.)
Preparing to unpack .../webhook_2.8.0-4build1_amd64.deb ...
Unpacking webhook (2.8.0-4build1) ...
Setting up webhook (2.8.0-4build1) ...
Created symlink '/etc/systemd/system/multi-user.target.wants/webhook.service' → '/usr/lib/systemd/system/webhook.service'.
Scanning processes...                                                                                           
Scanning linux images...                                                                                        

Pending kernel upgrade!
Running kernel version:
  6.11.0-9-generic
Diagnostics:
  The currently running kernel version is not the expected kernel version 6.11.0-24-generic.

Restarting the system to load the new kernel will not be handled automatically, so you should consider
rebooting.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
ethan@kufathan-server:~$ sudo nano /var/www/unixsite/Assignment4/deploy.sh
ethan@kufathan-server:~$ sudo chmod +x /var/www/unixsite/Assignment4/deploy.sh
ethan@kufathan-server:~$ sudo mkdir -p /etc/webhook
sudo nano /etc/webhook/hooks.json
ethan@kufathan-server:~$ webhook -hooks /etc/webhook/hooks.json -port 9000

http://your_server_ip:9000/hooks/autodeploy


exit
 


git add .
git commit -m "Testing auto deploy"
git push origin main

^Cethan@kufathan-server:~webhook -hooks /etc/webhook/hooks.json -port 900000

sudo systemctl status webhook

/
^Cethan@kufathan-server:~$ ^[[200~sudo systemctl status webhook
sudo: command not found
ethan@kufathan-server:~$ ~sudo systemctl status webhook
Command '~sudo' not found, did you mean:
  command 'sudo' from deb sudo (1.9.15p5-3ubuntu5)
  command 'sudo' from deb sudo-ldap (1.9.15p5-3ubuntu5)
Try: sudo apt install <deb name>
ethan@kufathan-server:~$ sudo systemctl status webhook
[sudo] password for ethan: 
○ webhook.service - Small server for creating HTTP endpoints (hooks)
     Loaded: loaded (/usr/lib/systemd/system/webhook.service; enabled; preset: enabled)
     Active: inactive (dead)
  Condition: start condition unmet at Sun 2025-05-04 15:42:46 UTC; 20min ago
             └─ ConditionPathExists=/etc/webhook.conf was not met
       Docs: https://github.com/adnanh/webhook/

May 04 15:42:46 kufathan-server systemd[1]: webhook.service - Small server for creating HTTP endpoints (hooks) >
...skipping...
○ webhook.service - Small server for creating HTTP endpoints (hooks)
     Loaded: loaded (/usr/lib/systemd/system/webhook.service; enabled; preset: enabled)
     Active: inactive (dead)
  Condition: start condition unmet at Sun 2025-05-04 15:42:46 UTC; 20min ago
             └─ ConditionPathExists=/etc/webhook.conf was not met
       Docs: https://github.com/adnanh/webhook/

May 04 15:42:46 kufathan-server systemd[1]: webhook.service - Small server for creating HTTP endpoints (hooks) >
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
lines 1-8/8 (END)...skipping...
○ webhook.service - Small server for creating HTTP endpoints (hooks)
     Loaded: loaded (/usr/lib/systemd/system/webhook.service; enabled; preset: enabled)
     Active: inactive (dead)
  Condition: start condition unmet at Sun 2025-05-04 15:42:46 UTC; 20min ago
             └─ ConditionPathExists=/etc/webhook.conf was not met
       Docs: https://github.com/adnanh/webhook/

May 04 15:42:46 kufathan-server systemd[1]: webhook.service - Small server for creating HTTP endpoints (hooks) was skipped because of an unmet condition check (ConditionPathExists=/etc/webhook.conf).
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~

ethan@kufathan-server:~$ exit
logout
root@kufathan-server:~# sudo apt update && sudo apt install nginx git ufw curl webhook -y
Hit:1 http://mirrors.digitalocean.com/ubuntu oracular InRelease
Hit:2 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease
Hit:3 http://mirrors.digitalocean.com/ubuntu oracular-updates InRelease      
Hit:4 http://mirrors.digitalocean.com/ubuntu oracular-backports InRelease
Hit:5 http://security.ubuntu.com/ubuntu oracular-security InRelease
16 packages can be upgraded. Run 'apt list --upgradable' to see them.
nginx is already the newest version (1.26.0-2ubuntu3.2).
git is already the newest version (1:2.45.2-1ubuntu1.1).
ufw is already the newest version (0.36.2-6).
curl is already the newest version (8.9.1-2ubuntu2.2).
webhook is already the newest version (2.8.0-4build1).
Summary:
  Upgrading: 0, Installing: 0, Removing: 0, Not Upgrading: 16
root@kufathan-server:~# sudo ethan
sudo: ethan: command not found
root@kufathan-server:~# su - ethan
ethan@kufathan-server:~$ sudo apt update && sudo apt install nginx git ufw curl webhook -y
Hit:1 http://mirrors.digitalocean.com/ubuntu oracular InRelease
Hit:2 http://mirrors.digitalocean.com/ubuntu oracular-updates InRelease                               
Hit:3 http://mirrors.digitalocean.com/ubuntu oracular-backports InRelease                             
Hit:4 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease                         
Hit:5 http://security.ubuntu.com/ubuntu oracular-security InRelease                                   
16 packages can be upgraded. Run 'apt list --upgradable' to see them.
nginx is already the newest version (1.26.0-2ubuntu3.2).
git is already the newest version (1:2.45.2-1ubuntu1.1).
ufw is already the newest version (0.36.2-6).
curl is already the newest version (8.9.1-2ubuntu2.2).
webhook is already the newest version (2.8.0-4build1).
Summary:
  Upgrading: 0, Installing: 0, Removing: 0, Not Upgrading: 16
ethan@kufathan-server:~$ git clone ^[[200~https://github.com/k-kukes/unix-project.git~
Cloning into 'unix-project.git~'...
fatal: protocol '?[200~https' is not supported
ethan@kufathan-server:~$ git clone https://github.com/k-kukes/unix-project.git
Cloning into 'unix-project'...
remote: Enumerating objects: 80, done.
remote: Counting objects: 100% (80/80), done.
remote: Compressing objects: 100% (65/65), done.
remote: Total 80 (delta 25), reused 37 (delta 10), pack-reused 0 (from 0)
Receiving objects: 100% (80/80), 7.63 MiB | 28.74 MiB/s, done.
Resolving deltas: 100% (25/25), done.
ethan@kufathan-server:~$ sudo nano /etc/nginx/sites-available/unixsite
ethan@kufathan-server:~$ sudo ln -s /etc/nginx/sites-available/unixsite /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
ln: failed to create symbolic link '/etc/nginx/sites-enabled/unixsite': File exists
2025/05/04 16:24:05 [warn] 13613#13613: conflicting server name "_" on 0.0.0.0:80, ignored
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
ethan@kufathan-server:~$ sudo nano /var/www/unixsite/Assignment4/deploy.sh
ethan@kufathan-server:~$ sudo chmod +x /var/www/unixsite/Assignment4/deploy.sh
ethan@kufathan-server:~$ sudo mkdir -p /etc/webhook
sudo nano /etc/webhook/hooks.json
ethan@kufathan-server:~$ sudo nano /etc/systemd/system/webhook.service
ethan@kufathan-server:~$ sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable webhook
sudo systemctl start webhook

ethan@kufathan-server:~$ ^C
ethan@kufathan-server:~$ 


////
